source("C:/Users/AU451FE/OneDrive - EY/Desktop/R/Scripts/test_script.R", echo=TRUE)
b
Sys.which("make")
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
b
Sys.which("make")
install.packages("jsonlite", type = "source")
?install.packages
?coeftest
##### Psacharopoulos & Patrinos (2018) exploration #####
########################################################
### Packages ###
library('readxl')
#Adjust this later
library(readr)
library(tidyverse)
library(ggplot2)
library(readxl)
library(stats)
library(DescTools)
library(sandwich)
library(lmtest)
library(multiwayvcov)
library(metafor)
library(bayesm)
library(puniform)
library(haven)
library(meta)
library(AER)
library(BMS)
library(corrplot)
library(foreign)
library(xtable)
library(LowRankQP)
library(foreign)
library(multcomp)
### Data preparation ###
setwd("C:/Users/hso20/OneDrive/Plocha/IES/Diploma-Thesis/P&P (2018) analysis")
### Data preparation ###
#setwd("C:/Users/hso20/OneDrive/Plocha/IES/Diploma-Thesis/P&P (2018) analysis")
setwd("C:/Users/AU451FE/IES/Diploma-Thesis/P&P (2018) analysis")
data <- read_excel('Data transformed for R.xlsx', sheet = 'Data')
### Data exploration ###
mp_overall_data <- data[!is.na(data$mp_overall),]
#Figure 2 - rate of return ~ years of schooling (individual observations)
fig2_reg <- lm(formula = 'mp_overall ~ schooling_years', data = mp_overall_data)
#OLS where the standard errors are clustered on country level
OLS_country_se <- lm(formula = mp_overall ~ schooling_years, data = mp_overall_data)
OLS_country_se_c <- coeftest(OLS_country_se, vcov = vcovHC(OLS_country_se,
type = "HC0", cluster = c(mp_overall_data$country)))
print(OLS_country_se_c)
?coeftest
?rma
?plm
library(plm) # FE/RE
install.packages('')
install.packages('plm')
library(plm) # FE/RE
?pl
?plm
gen_formula <- 'mp_overall ~ schooling_years'
OLS_country_se <- lm(formula = gen_formula, data = mp_overall_data)
OLS_country_se_c <- coeftest(OLS_country_se, vcov = vcovHC(OLS_country_se,
type = "HC0", cluster = c(mp_overall_data$country)))
print(OLS_country_se_c)
fe <- plm(formula = gen_formula, data = mp_verall_data)
fe <- plm(formula = gen_formula, data = mp_overall_data)
mp_overall_data
mp_overall$schooling_years
mp_overall_data$schooling_years
### Data exploration ###
mp_clean <- data[!is.na(data$mp_overall),][!is.na(data$schooling_years)]
### Data exploration ###
mp_clean <- data[!is.na(data$mp_overall),][!is.na(data$schooling_years),]
test <- mp_clean[!is.na(mp_clean$schooling_years),]
### Data exploration ###
mp_clean <- data[!is.na(data$mp_overall),]
test <- mp_clean[!is.na(mp_clean$schooling_years),]
test
### Data exploration ###
mp_clean <- data[!is.na(data$mp_overall) && !is.na(data$schooling_years),]
mp_clean
### Data exploration ###
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),]
mp_clean
#Figure 2 - rate of return ~ years of schooling (individual observations)
fig2_reg <- lm(formula = 'mp_overall ~ schooling_years', data = mp_overall_data)
fig2_reg
#Figure 2 - rate of return ~ years of schooling (individual observations)
fig2_reg <- lm(formula = gen_formula, data = mp_overall_data)
fe <- plm(formula = gen_formula, data = mp_clean)
mp_clean
sum(is.na(mp_clean$mp_overall))
sum(is.na(mp_clean$schooling_years))
table(index(mp_clean), useNA = "ifany")
data <- read_excel('Data transformed for R.xlsx', sheet = 'Data')
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),]
gen_formula <- 'mp_overall ~ schooling_years'
#Figure 2 - rate of return ~ years of schooling (individual observations)
fig2_reg <- lm(formula = gen_formula, data = mp_clean)
OLS_country_se <- lm(formula = gen_formula, data = mp_clean)
OLS_country_se_c <- coeftest(OLS_country_se, vcov = vcovHC(OLS_country_se,
type = "HC0", cluster = c(mp_clean$country)))
print(OLS_country_se_c)
fe <- plm(formula = gen_formula, data = mp_clean)
index(mp_clean)
check.na(index(mp_clean))
checkNA.index(mp_clean)
fe <- plm(formula = gen_formula, data = mp_clean, na.action = NULL)
fe <- plm(formula = gen_formula, data = mp_clean, na.omit = TRUE)
fe <- plm(formula = gen_formula, data = mp_clean, model = "within")
fe <- plm(formula = gen_formula, data = mp_clean, model = "within", effect = "twoways")
mp_clean
#Remove missing values
test <- data[, c('mp_overall', 'schooling_years')]
test
#Remove missing values
test <- data[!is.na, c('mp_overall', 'schooling_years')]
#Remove missing values
test <- data[is.na == FALSE, c('mp_overall', 'schooling_years')]
#Remove missing values
test <- data[, c('mp_overall', 'schooling_years')]
is.na(test)
test[is.na(test)]
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years')]
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years')]
mp_clean
OLS_country_se <- lm(formula = gen_formula, data = mp_clean)
OLS_country_se_c <- coeftest(OLS_country_se, vcov = vcovHC(OLS_country_se,
type = "HC0", cluster = c(mp_clean$country)))
print(OLS_country_se_c)
fe <- plm(formula = gen_formula, data = mp_clean, model = "within", effect = "twoways")
mp_clean
sum(mp_clean$mp_overall == mp_clean$schooling_years)
fe <- plm(formula = gen_formula, data = mp_clean, model = "random", effect = "twoways")
pdf <- pdata.frame(mp_clean, index = c("mp_overall", "schooling_years"))
factor(mp_clean$mp_overall)
?factor
fe <- plm(formula = factor(mp_overall) ~ factor(schooling_years), data = mp_clean, model = "within", effect = "twoways")
fe <- plm(formula = factor(mp_clean$mp_overall) ~ factor(mp_clean$schooling_years),
data = mp_clean, model = "within", effect = "twoways")
factor(mp_clean$mp_overall)
factor(mp_clean$schooling_years)
fe <- plm(formula = factor(mp_clean$mp_overall) ~ factor(mp_clean$schooling_years),
#data = mp_clean,
model = "within", effect = "twoways")
fe <- plm(formula = factor(mp_clean$mp_overall) ~ factor(mp_clean$schooling_years),
#data = mp_clean,
model = "within", effect = "twoways")
fe <- plm(formula = gen_formula, data = mp_clean, model = "within")
qdr_formula <- 'mp_overall ~ schooling_years + schooling_years^2'
test <- lm(formula = qdr_formula, data = mp_clean)
test
qdr_formula <- 'mp_overall ~ schooling_years + schooling_years*schooling_years'
test <- lm(formula = qdr_formula, data = mp_clean)
test
all(is.na(mp_clean$mp_overall))
sum((is.na(mp_clean$mp_overall))
sum(is.na(mp_clean$mp_overall)
sum(is.na(mp_clean$mp_overall))
fe <- plm(formula = gen_formula, data = mp_clean, model = "within", na.action = na.exclude)
fe <- plm(formula = gen_formula, data = data, model = "within", na.action = na.exclude)
data
class(data)
data_raw <- read_excel('Data transformed for R.xlsx', sheet = 'Data')
data <- data.frame(data_raw, stringsAsFactors = TRUE) #converting to a data frame
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years')]
mp_clean
class(mp_clean)
class(data)
class(data_raw)
data_raw <- read_excel('Data transformed for R.xlsx', sheet = 'Data')
data <- data.frame(data_raw, stringsAsFactors = TRUE) #converting to a data frame
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years')]
gen_formula <- 'mp_overall ~ schooling_years'
#Figure 2 - rate of return ~ years of schooling (individual observations)
fig2_reg <- lm(formula = gen_formula, data = mp_clean)
OLS_country_se <- lm(formula = gen_formula, data = mp_clean)
OLS_country_se_c <- coeftest(OLS_country_se, vcov = vcovHC(OLS_country_se,
type = "HC0", cluster = c(mp_clean$country)))
print(OLS_country_se_c)
pdf <- pdata.frame(mp_clean, index = c("mp_overall", "schooling"))
fe <- plm(formula = gen_formula, data = mp_clean, model = "within")
mp_clean
sum(is.na(mp_clean$mp_overall))
sum(is.na(data$mp_overall))
nrow(mp_clean)
View(mp_clean)
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years', 'country')]
mp_clean
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years', 'country', 'year', 'region', 'income_level')]
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years', 'country', 'year', 'region', 'income level')]
#Remove missing values
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
c('mp_overall', 'schooling_years', 'country', 'year', 'region', 'inc_level')]
mp_clean
#Remove missing values
relevant_columns <- c('mp_overall', 'schooling_years', 'country',
'year', 'region', 'inc_level')
mp_clean <- data[!is.na(data$mp_overall) & !is.na(data$schooling_years),
relevant_columns]
mp_clean
gen_formula <- 'mp_overall ~ schooling_years'
fe <- plm(formula = gen_formula, data = mp_clean, model = "within")
?rma
fe <- rma(mp_overall, sei = schooling_years, mods = ~schooling_years,
data = mp_clean, method = "FE")
fe
fe
fe.RE
fe.R2
fe[R2]
list(fe)
test <- plm(formula = qdr_formula, data = mp_clean)
qdr_formula <- 'mp_overall ~ schooling_years + schooling_years*schooling_years'
test <- lm(formula = qdr_formula, data = mp_clean)
test <- plm(formula = qdr_formula, data = mp_clean)
#FE
FE <- rma(pcc_w, sei = se_pcc_w, mods = ~se_pcc_w, data = dataset, method = "ML")
fe <- rma(mp_overall, sei = schooling_years, mods = ~schooling_years,
data = mp_clean, method = "ML")
fe
fe <- rma(mp_overall, sei = schooling_years, mods = ~schooling_years,
data = mp_clean, method = "FE")
fe
qdr_formula <- 'mp_overall ~ schooling_years + schooling_years*schooling_years'
test <- lm(formula = qdr_formula, data = mp_clean)
test <- plm(formula = qdr_formula, data = mp_clean)
test
?lm
qdr_formula <- 'mp_overall ~ schooling_years + schooling_years^2'
test <- lm(formula = qdr_formula, data = mp_clean)
test
qdr_formula
?nls
test <- nls(formula = qdr_formula, data = mp_clean)
?gmm
library(gmm)
?gmm
test <- gmm(formula = qdr_formula, data = mp_clean)
test <- gmm(g = qdr_formula, data = mp_clean)
test <- gmm(g = qdr_formula, x = mp_clean)
